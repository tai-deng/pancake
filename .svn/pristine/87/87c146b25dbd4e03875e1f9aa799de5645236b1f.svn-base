{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\luckyMoney/assets\\Script\\luckyMoney\\luckyMoney.ts"],"names":[],"mappings":";;;;;AAAA,gEAA2D;AAE3D,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAsC,4BAAY;IADlD;QAAA,qEA4CC;QAxCG,cAAQ,GAAS,IAAI,CAAC;;QAuCtB,iBAAiB;IACrB,CAAC;IAtCG,wBAAwB;IAExB,eAAe;IAEf,wBAAK,GAAL;QACI,IAAG,CAAC,IAAI,CAAC,eAAe;YAAE,OAAO;QACjC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;IAClE,CAAC;IACO,wBAAK,GAAb,UAAc,EAAW;QACrB,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC;QAC7B,qBAAW,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IAC7C,CAAC;IACD,SAAS;IACD,8BAAW,GAAnB;QACI,IAAG,OAAO,EAAE,IAAI,WAAW;YAAE,OAAO;QACpC,IAAI,QAAQ,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAA;QACtC,QAAQ,CAAC,WAAW,CAAC;YACjB,WAAW,EAAC,CAAC;SAChB,CAAC,CAAA;QAEF,IAAI,SAAS,GAAG,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;QACvC,EAAE,CAAC,mBAAmB,CAClB;YACI,YAAY,EAAC;gBACT;oBACI,KAAK,EAAC,OAAO;oBACb,OAAO,EAAC,qBAAqB,GAAG,EAAE,GAAG,kBAAkB,GAAG,SAAS,GAAG,IAAI;iBAC7E;aACJ;SACJ,CACJ,CAAC;QAEF,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;IAExB,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACI;IAHL,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA2C5B;IAAD,eAAC;CA3CD,AA2CC,CA3CqC,EAAE,CAAC,SAAS,GA2CjD;kBA3CoB,QAAQ","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\luckyMoney","sourcesContent":["import GameManager from \"../gamecore/managers/GameManager\";\r\n\r\n// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    clickBtn:cc.Node=null;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        if(!this._isOnLoadCalled) return;\r\n        this.addUserData();\r\n        this.clickBtn.active = true;\r\n        this.clickBtn.on(cc.Node.EventType.TOUCH_END,this.click,this);\r\n    }\r\n    private click(ev:cc.Event){\r\n        this.clickBtn.active = false;\r\n        GameManager.soundsManager.playTapSound();\r\n    }\r\n    // 添加用户数据\r\n    private addUserData(){\r\n        if(typeof wx == \"undefined\") return;\r\n        let openData = wx.getOpenDataContext()\r\n        openData.postMessage({\r\n            \"direction\":1,\r\n        })\r\n        \r\n        let timestamp = (new Date()).valueOf();\r\n        wx.setUserCloudStorage(\r\n            {\r\n                \"KVDataList\":[\r\n                    {\r\n                        \"key\":\"score\",\r\n                        \"value\":'{\"wxgame\":{\"score\":' + 80 + ', \"update_time\":' + timestamp + '}}',\r\n                    }\r\n                ]\r\n            }   \r\n        );\r\n        \r\n        console.log(\"排行榜子域\")\r\n        \r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}