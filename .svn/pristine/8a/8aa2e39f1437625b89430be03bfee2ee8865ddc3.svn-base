import GameManager from "../gamecore/managers/GameManager";
import StateManage from "../StateManage/StateManage";


const {ccclass, property} = cc._decorator;
/**
 * 展示游戏结果
 */
@ccclass
export default class GameOverMain extends cc.Component {


    //播放视频广告
    @property(cc.Node)
    playVideoAdBtn:cc.Node = null;

    //再来一次
    @property(cc.Node)
    playAgainBtn:cc.Node = null;

    //使用复活卡
    @property(cc.Node)
    userCardBtn:cc.Node = null;


    //分数显示
    @property(cc.Label)
    scoreLabel:cc.Label = null;


    start() {

    }

    /**
     * show
     */
    show(){
        let score:number = StateManage.instance.getData(StateManage.KEY_SCORE);
        this.scoreLabel = "" + score;


        this.playAgainBtn.on(cc.Node.EventType.TOUCH_END, this.playAgainBtnTapHandler, this);
        this.playVideoAdBtn.on(cc.Node.EventType.TOUCH_END, this.playVideoAdBtnTapHandler, this);
        this.userCardBtn.on(cc.Node.EventType.TOUCH_END, this.userCardBtnBtnTapHandler, this);
    }


    /**
     * 点击在来一次
     * 
     * @param e 
     */
    private playAgainBtnTapHandler(e:cc.Event):void {

    }

    /**
     * 点击播放视频
     * 
     * @param e 
     */
    private playVideoAdBtnTapHandler(e:cc.Event):void {

    }

    /**
     * 点击复活卡
     * 
     * @param e 
     */
    private userCardBtnBtnTapHandler(e:cc.Event):void {

    }
    
    
    onDestroy() {
        // StateManage.instance.off("change", this.stateChangeHandler);
    }
}
