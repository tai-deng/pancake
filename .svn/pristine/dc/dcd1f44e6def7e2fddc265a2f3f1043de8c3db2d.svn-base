{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\StateManage/assets\\Script\\StateManage\\StateManage.ts"],"names":[],"mappings":";;;;;AAAA,gEAA2D;AAErD,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAAyC,+BAAO;IADhD;QAAA,qEAyGC;QAxEU,cAAQ,GAAQ,EAAE,CAAC;QACnB,cAAQ,GAAQ,EAAE,CAAC;QACnB,uBAAiB,GAAQ,CAAC,CAAC;QAE3B,aAAO,GAAQ,EAAE,CAAC;QAClB,cAAQ,GAAQ,EAAE,CAAC;QACnB,WAAK,GAAU,GAAG,CAAC;QAC1B,2BAA2B;QAC3B,iCAAiC;QAC1B,YAAM,GAAU,CAAC,CAAC;QACzB,6BAA6B;QACtB,SAAG,GAAU,CAAC,CAAC;QAEf,cAAQ,GAAU,CAAC,CAAC;QACpB,UAAI,GAAU,CAAC,CAAC;QAChB,YAAM,GAAU,CAAC,CAAC;QAClB,WAAK,GAAU,CAAC,CAAC;QACjB,mBAAa,GAAU,CAAC,CAAC;QACzB,aAAO,GAAU,CAAC,CAAC;QACnB,cAAQ,GAAU,CAAC,CAAC;QACpB,cAAQ,GAAU,CAAC,CAAC;QACpB,eAAS,GAAU,CAAC,CAAC;QACrB,aAAO,GAAU,CAAC,CAAC;QACnB,iBAAW,GAAiB,EAAE,CAAC;QAC/B,aAAO,GAAU,CAAC,CAAC;QACnB,WAAK,GAAU,CAAC,CAAC;QACjB,gBAAU,GAAU,CAAC,CAAC;QACtB,WAAK,GAAU,CAAC,CAAC;QACjB,gBAAU,GAAS,IAAI,CAAC;QACxB,iBAAW,GAAS,IAAI,CAAC;;IA2CpC,CAAC;oBAxGoB,WAAW;IA+D5B,sBAAkB,uBAAQ;aAA1B;YACI,IAAI,CAAC,aAAW,CAAC,SAAS;gBAAE,aAAW,CAAC,SAAS,GAAG,IAAI,aAAW,EAAE,CAAC;YAEtE,OAAO,aAAW,CAAC,SAAS,CAAC;QACjC,CAAC;;;OAAA;IAOD,sBAAW,uCAAc;QAHzB;;WAEG;aACH;YACI,OAAO,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC;;;OAAA;IAGD,aAAa;IACN,6BAAO,GAAd,UAAe,GAAU,EAAE,KAAS;QAEhC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,EAAE;YAC5C,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;YAClB,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;YAE3B,IAAG,GAAG,IAAI,YAAY,EAAC;gBACnB,qBAAW,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;aAC9C;iBAAI;gBACD,qBAAW,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,EAAC,KAAK,EAAC,KAAK,CAAC,CAAC;aACpD;YAED,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;SACrD;IACL,CAAC;IACD,OAAO;IACA,6BAAO,GAAd,UAAe,GAAU;QAErB,IAAG,IAAI,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,EAAC;YACnB,IAAI,OAAO,GAAG,qBAAW,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnD,IAAG,OAAO,IAAI,IAAI;gBAAE,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;YACxC,OAAO,OAAO,CAAC;SAClB;IACL,CAAC;;IAtGc,qBAAS,GAAe,IAAI,CAAC;IAErC,wBAAY,GAAU,UAAU,CAAA,CAAa,OAAO;IACpD,wBAAY,GAAU,UAAU,CAAA,CAAa,OAAO;IACpD,uBAAW,GAAU,SAAS,CAAC,CAAc,MAAM;IACnD,wBAAY,GAAU,UAAU,CAAC,CAAY,MAAM;IACnD,qBAAS,GAAU,OAAO,CAAC,CAAkB,KAAK;IACzD,0DAA0D;IACnD,sBAAU,GAAU,QAAQ,CAAC,CAAgB,OAAO;IAC3D,8DAA8D;IACvD,mBAAO,GAAU,KAAK,CAAA,CAAuB,OAAO;IACpD,iCAAqB,GAAS,mBAAmB,CAAA,CAAI,QAAQ;IACpE,6DAA6D;IACtD,qBAAS,GAAU,OAAO,CAAA,CAAmB,OAAO;IACpD,uBAAW,GAAU,SAAS,CAAA,CAAe,OAAO;IACpD,wBAAY,GAAU,UAAU,CAAA,CAAa,OAAO;IACpD,oBAAQ,GAAU,MAAM,CAAA,CAAqB,SAAS;IACtD,sBAAU,GAAU,QAAQ,CAAA,CAAiB,UAAU;IACvD,qBAAS,GAAU,OAAO,CAAA,CAAmB,KAAK;IAClD,6BAAiB,GAAU,eAAe,CAAA,CAAG,YAAY;IACzD,uBAAW,GAAU,SAAS,CAAA,CAAe,SAAS;IACtD,wBAAY,GAAU,UAAU,CAAA,CAAa,WAAW;IACxD,wBAAY,GAAU,UAAU,CAAA,CAAa,SAAS;IACtD,yBAAa,GAAU,WAAW,CAAA,CAAW,UAAU;IACvD,uBAAW,GAAU,SAAS,CAAA,CAAe,UAAU;IACvD,qBAAS,GAAU,OAAO,CAAA,CAAmB,QAAQ;IACrD,2BAAe,GAAU,aAAa,CAAA,CAAO,OAAO;IAEpD,0BAAc,GAAU,YAAY,CAAA,CAAS,OAAO;IACpD,wBAAY,GAAU,YAAY,CAAA,CAAW,UAAU;IA9B7C,WAAW;QAD/B,OAAO;OACa,WAAW,CAwG/B;IAAD,kBAAC;CAxGD,AAwGC,CAxGwC,EAAE,CAAC,IAAI,GAwG/C;kBAxGoB,WAAW","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\StateManage","sourcesContent":["import GameManager from \"../gamecore/managers/GameManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class StateManage extends cc.Node {\r\n    private static _instance:StateManage = null;\r\n\r\n    static KEY_SHOPDATA:string = \"shopdata\"             // 商品数据\r\n    static KEY_TASKDATA:string = \"taskdata\"             // 任务数据\r\n    static KEY_SKINPOT:string = \"skinPot\";              // 锅皮肤\r\n    static KEY_SKINCAKE:string = \"skinCake\";            // 饼皮肤\r\n    static KEY_SCORE:string = \"score\";                  // 得分\r\n    // static KEY_JEWEL_STATE:string = \"jewel\";         // 新钻石\r\n    static KEY_ISOVER:string = 'isOver';                // 是否结束\r\n    // static KEY_CAKEPOS:string = \"cakePos\";           // 初始化饼的位置\r\n    static KEY_GEM:string = \"gem\"                       // 宝石数量\r\n    static KEY_RESURGENCECARDNUM:string= \"resurgenceCardNum\"    // 复活卡数量\r\n    // static KEY_SHOPING_TAB:string = \"shoppingTab\";   // 商店 TAB\r\n    static KEY_TAGEM:string = \"tagem\"                   // 钻石任务\r\n    static KEY_TAGRADE:string = \"tagrade\"               // 等级任务\r\n    static KEY_OVERTURN:string = \"overturn\"             // 翻转次数\r\n    static KEY_TURN:string = \"turn\"                     // 一周转体次数\r\n    static KEY_TMTURN:string = \"tmturn\"                 // 十秒内翻转次数\r\n    static KEY_GRADE:string = \"grade\"                   // 等级\r\n    static KEY_RESURGENCECAR:string = \"resurgenceCar\"   // 累计使用复活卡次数\r\n    static KEY_FDRELAY:string = \"fdrelay\"               // 好友接力数量\r\n    static KEY_CRAZYTAP:string = \"crazyTap\"             // 疯狂点击中点次数\r\n    static KEY_ANYSHARE:string = \"anyShare\"             // 累计任意分享\r\n    static KEY_RIPESHARE:string = \"ripeShare\"           // 煎烤好友并分享\r\n    static KEY_NEXTDAY:string = \"nextDay\"               // 第二天 0 点\r\n    static KEY_TODAY:string = \"today\"                   // 现在的时间\r\n    static KEY_VOICESWITCH:string = \"voiceSwitch\"       // 声音状态\r\n\r\n    static KEY_RANKBUBBLE:string = \"rankbubble\"         // 排行气泡\r\n    static KEY_MIDNIGHT:string = \"isMidnight\"           // 是否午夜更新 \r\n\r\n    public shopdata:object={};\r\n    public taskdata:object={};\r\n    public resurgenceCardNum:number=0;\r\n    \r\n    public skinPot:object={};\r\n    public skinCake:object={};\r\n    public score:string = \"0\";\r\n    // public jewel:Number = 0;\r\n    // public shoppingTab:number = 0;\r\n    public isOver:number = 2;\r\n    // public cakePos:any = null;\r\n    public gem:number = 0;\r\n\r\n    public overturn:number = 0;\r\n    public turn:number = 0;\r\n    public tmturn:number = 0;\r\n    public grade:number = 0;\r\n    public resurgenceCar:number = 0;\r\n    public fdrelay:number = 0;\r\n    public crazyTap:number = 0;\r\n    public anyShare:number = 0;\r\n    public ripeShare:number = 0;\r\n    public nextDay:number = 0;\r\n    public currentTask:Array<object> = [];\r\n    public tagrade:number = 0;\r\n    public tagem:number = 0;\r\n    public isMidnight:number = 0;\r\n    public today:number = 0;\r\n    public rankbubble:boolean=true;\r\n    public voiceSwitch:boolean=true;\r\n\r\n    public static get instance():StateManage {\r\n        if (!StateManage._instance) StateManage._instance = new StateManage();\r\n        \r\n        return StateManage._instance;\r\n    }\r\n\r\n    private _lastChangedKey:string;\r\n\r\n    /**\r\n     *  被修改的 KEY\r\n     */\r\n    public get lastChangedKey():string {\r\n        return this._lastChangedKey;\r\n    }\r\n\r\n    \r\n    // KEY 抛出改变事件\r\n    public setData(key:string, value:any){\r\n\r\n        if (this[key] !== value && this[key] != void 0) {\r\n            this[key] = value;\r\n            this._lastChangedKey = key;\r\n\r\n            if(key != \"rankbubble\"){\r\n                GameManager.dataManager.setData(key,value);\r\n            }else{\r\n                GameManager.dataManager.setData(key,value,false);\r\n            }\r\n            \r\n            this.dispatchEvent(new cc.Event(\"change\", false));\r\n        }\r\n    }\r\n    // 获取状态\r\n    public getData(key:string){\r\n\r\n        if(this[key] != void 0){\r\n            let storage = GameManager.dataManager.getData(key);\r\n            if(storage == null) storage = this[key];\r\n            return storage;\r\n        }\r\n    }\r\n}\r\n"]}