"use strict";
cc._RF.push(module, '986e1ciQi1DVqOH9zxeLhHX', 'StateManage');
// Script/StateManage/StateManage.ts

Object.defineProperty(exports, "__esModule", { value: true });
var GameManager_1 = require("../gamecore/managers/GameManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var StateManage = /** @class */ (function (_super) {
    __extends(StateManage, _super);
    function StateManage() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.shopdata = {};
        _this.taskdata = {};
        _this.resurgenceCardNum = 0;
        _this.skinPot = {};
        _this.skinCake = {};
        _this.score = "0";
        // public jewel:Number = 0;
        // public shoppingTab:number = 0;
        _this.isOver = 2;
        // public cakePos:any = null;
        _this.gem = 0;
        _this.overturn = 0;
        _this.turn = 0;
        _this.tmturn = 0;
        _this.grade = 0;
        _this.resurgenceCar = 0;
        _this.fdrelay = 0;
        _this.crazyTap = 0;
        _this.anyShare = 0;
        _this.ripeShare = 0;
        _this.nextDay = 0;
        _this.currentTask = [];
        _this.tagrade = 0;
        _this.tagem = 0;
        _this.isMidnight = 0;
        _this.today = 0;
        _this.rankbubble = true;
        _this.voiceSwitch = true;
        return _this;
    }
    StateManage_1 = StateManage;
    Object.defineProperty(StateManage, "instance", {
        get: function () {
            if (!StateManage_1._instance)
                StateManage_1._instance = new StateManage_1();
            return StateManage_1._instance;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(StateManage.prototype, "lastChangedKey", {
        /**
         *  被修改的 KEY
         */
        get: function () {
            return this._lastChangedKey;
        },
        enumerable: true,
        configurable: true
    });
    // KEY 抛出改变事件
    StateManage.prototype.setData = function (key, value) {
        if (this[key] !== value && this[key] != void 0) {
            this[key] = value;
            this._lastChangedKey = key;
            if (key != "rankbubble") {
                GameManager_1.default.dataManager.setData(key, value);
            }
            else {
                GameManager_1.default.dataManager.setData(key, value, false);
            }
            this.dispatchEvent(new cc.Event("change", false));
        }
    };
    // 获取状态
    StateManage.prototype.getData = function (key) {
        if (this[key] != void 0) {
            var storage = GameManager_1.default.dataManager.getData(key);
            if (storage == null)
                storage = this[key];
            return storage;
        }
    };
    var StateManage_1;
    StateManage._instance = null;
    StateManage.KEY_SHOPDATA = "shopdata"; // 商品数据
    StateManage.KEY_TASKDATA = "taskdata"; // 任务数据
    StateManage.KEY_SKINPOT = "skinPot"; // 锅皮肤
    StateManage.KEY_SKINCAKE = "skinCake"; // 饼皮肤
    StateManage.KEY_SCORE = "score"; // 得分
    // static KEY_JEWEL_STATE:string = "jewel";         // 新钻石
    StateManage.KEY_ISOVER = 'isOver'; // 是否结束
    // static KEY_CAKEPOS:string = "cakePos";           // 初始化饼的位置
    StateManage.KEY_GEM = "gem"; // 宝石数量
    StateManage.KEY_RESURGENCECARDNUM = "resurgenceCardNum"; // 复活卡数量
    // static KEY_SHOPING_TAB:string = "shoppingTab";   // 商店 TAB
    StateManage.KEY_TAGEM = "tagem"; // 钻石任务
    StateManage.KEY_TAGRADE = "tagrade"; // 等级任务
    StateManage.KEY_OVERTURN = "overturn"; // 翻转次数
    StateManage.KEY_TURN = "turn"; // 一周转体次数
    StateManage.KEY_TMTURN = "tmturn"; // 十秒内翻转次数
    StateManage.KEY_GRADE = "grade"; // 等级
    StateManage.KEY_RESURGENCECAR = "resurgenceCar"; // 累计使用复活卡次数
    StateManage.KEY_FDRELAY = "fdrelay"; // 好友接力数量
    StateManage.KEY_CRAZYTAP = "crazyTap"; // 疯狂点击中点次数
    StateManage.KEY_ANYSHARE = "anyShare"; // 累计任意分享
    StateManage.KEY_RIPESHARE = "ripeShare"; // 煎烤好友并分享
    StateManage.KEY_NEXTDAY = "nextDay"; // 第二天 0 点
    StateManage.KEY_TODAY = "today"; // 现在的时间
    StateManage.KEY_VOICESWITCH = "voiceSwitch"; // 声音状态
    StateManage.KEY_RANKBUBBLE = "rankbubble"; // 排行气泡
    StateManage.KEY_MIDNIGHT = "isMidnight"; // 是否午夜更新 
    StateManage = StateManage_1 = __decorate([
        ccclass
    ], StateManage);
    return StateManage;
}(cc.Node));
exports.default = StateManage;

cc._RF.pop();