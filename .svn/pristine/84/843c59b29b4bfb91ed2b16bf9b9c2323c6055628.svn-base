"use strict";
cc._RF.push(module, 'f2441WgjFRCrqfwvisHCs6E', 'WXCore');
// Script/gamecore/wechat/WXCore.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
if (typeof wx != "undefined") {
    wx.onShow(function (res) {
        cc.info("----  WX Core ----");
        cc.info("-  onShow  -");
        cc.info(res);
        WXCore.query = res["query"];
    });
}
/**
 * 微信核心接口库
 */
var WXCore = /** @class */ (function () {
    function WXCore() {
    }
    /**
     * 监听用户点击右上角菜单的“转发”按钮时触发的事件
     *
     * @param title             分享title
     * @param imageURL          分享的图片加载地址
     * @param queryValue        携带的参数，必须是 key1=val1&key2=val2 的格式
     *
     * @see https://developers.weixin.qq.com/minigame/dev/document/share/wx.onShareAppMessage.html
     */
    WXCore.setOnShareAppMessage = function (title, imageURL, queryValue) {
        if (queryValue === void 0) { queryValue = ""; }
        cc.info("----  WX Core ----");
        cc.info("-  setOnShareAppMessage  -");
        if (typeof wx == "undefined")
            return;
        cc.info(title, imageURL, queryValue);
        wx.onShareAppMessage(function () {
            return {
                "title": title,
                "imageUrl": imageURL,
                "query": queryValue
            };
        });
        wx.showShareMenu({
            "withShareTicket": true
        });
    };
    /**
     * 显示信息提示
     *
     * @param info 信息内容
     * @param duration 显示时间（毫秒）
     */
    WXCore.showToast = function (info, duration) {
        if (duration === void 0) { duration = 1500; }
        cc.info("----  WX Core ----");
        cc.info("-  showToast  -");
        cc.info(info);
        if (typeof wx == "undefined")
            return;
        try {
            wx.showToast({
                "title": info,
                "icon": "none",
                "duration": duration,
                "mask": false,
            });
        }
        catch (error) {
        }
    };
    //震动反馈
    WXCore.vibrateShort = function () {
        cc.info("----  WX Core ----");
        cc.info("-  vibrateShort  -");
        if (typeof wx == "undefined")
            return;
        try {
            wx.vibrateShort({});
        }
        catch (error) {
            cc.info("catch a error from wx:");
            cc.info(error);
        }
    };
    /**
     * 预览图片
     *
     * @param images 图片的url列表
     */
    WXCore.previewImage = function (images) {
        cc.info("----  WX Core ----");
        cc.info("-  vibrateShort  -");
        if (typeof wx == "undefined")
            return;
        try {
            wx.previewImage({
                "urls": images
            });
        }
        catch (error) {
        }
    };
    WXCore = __decorate([
        ccclass
    ], WXCore);
    return WXCore;
}());
exports.default = WXCore;

cc._RF.pop();