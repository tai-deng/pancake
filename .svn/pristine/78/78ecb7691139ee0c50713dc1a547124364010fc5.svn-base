{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\interludeAnimation/assets\\Script\\interludeAnimation\\interludeAnimation.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\interludeAnimation","sourcesContent":["// Learn TypeScript:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class InterludeAnimation extends cc.Component {\r\n\r\n    @property(cc.Animation)\r\n    clickAnim:cc.Animation=null;\r\n    @property(cc.Animation)\r\n    notimeAnim:cc.Animation=null;\r\n    @property(cc.Node)\r\n    surpassNode:cc.Node=null;\r\n    private countDown:number = 3;\r\n    private count:number=0;\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        if(!this._isOnLoadCalled) return;\r\n        this.node.on(cc.Node.EventType.TOUCH_END,this.countEvent,this)\r\n        this.schedule(this.onAnimo,1)\r\n    }\r\n    private onAnimo(){\r\n        this.notimeAnim.node.active=true;\r\n        this.clickAnim.node.active=true;\r\n        this.surpassNode.active= false;\r\n        this.notimeAnim.play();\r\n        this.clickAnim.play();\r\n        this.countDown -=1;\r\n\r\n        if(this.countDown == 0){\r\n            this.node.off(cc.Node.EventType.TOUCH_END,this.countEvent,this);\r\n            this.unschedule(this.onAnimo);\r\n            this.notimeAnim.stop();\r\n            this.clickAnim.stop();\r\n            this.notimeAnim.node.active=false;\r\n            this.clickAnim.node.active=false;\r\n            this.surpassNode.active= true;\r\n            \r\n            if(this.count>=4){\r\n                // 执行背景图下行 4 动作    1334\r\n                let action = cc.speed(\r\n                    cc.sequence(\r\n                        cc.moveBy(1, 0, -1334*4).easing(cc.easeCubicActionOut()),\r\n                        cc.moveBy(1, 0, 1334*4).easing(cc.easeCubicActionIn()),\r\n                    ), 1);\r\n                this.surpassNode.runAction(action);\r\n            }\r\n            if(this.count == 3){\r\n                let action = cc.speed(\r\n                    cc.sequence(\r\n                        cc.moveBy(1, 0, -1334*3).easing(cc.easeCubicActionOut()),\r\n                        cc.moveBy(1, 0, 1334*3).easing(cc.easeCubicActionIn()),\r\n                    ), 1);\r\n                this.surpassNode.runAction(action);\r\n            }\r\n            if(this.count == 2){\r\n                let action = cc.speed(\r\n                    cc.sequence(\r\n                        cc.moveBy(1, 0, -1334*2).easing(cc.easeCubicActionOut()),\r\n                        cc.moveBy(1, 0, 1334*2).easing(cc.easeCubicActionIn()),\r\n                    ), 1);\r\n                this.surpassNode.runAction(action);\r\n            }\r\n            if(this.count == 1){\r\n                let action = cc.speed(\r\n                    cc.sequence(\r\n                        cc.moveBy(1, 0, -1334).easing(cc.easeCubicActionOut()),\r\n                        cc.moveBy(1, 0, 1334).easing(cc.easeCubicActionIn()),\r\n                    ), 1);\r\n                this.surpassNode.runAction(action);\r\n            }\r\n        }\r\n    }\r\n    private countEvent(){\r\n        this.count += 1;\r\n    }\r\n    // update (dt) {}\r\n}\r\n"]}