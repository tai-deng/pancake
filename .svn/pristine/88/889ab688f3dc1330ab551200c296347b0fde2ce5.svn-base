"use strict";
cc._RF.push(module, '24b0bZqrBhE/IcpZVKdO3tw', 'LoadingSceneMain');
// Script/gamecore/scene/LoadingSceneMain.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
/**
 * 加载场景脚本
 */
var LoadingSceneMain = /** @class */ (function (_super) {
    __extends(LoadingSceneMain, _super);
    function LoadingSceneMain() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        //title节点
        _this.titleNode = null;
        //icon节点
        _this.iconNode = null;
        //logo节点
        _this.logoNode = null;
        return _this;
    }
    // onLoad () {}
    LoadingSceneMain.prototype.start = function () {
        //如果有设置icon节点，显示时，让icon缓慢显示
        if (this.iconNode) {
            this.iconNode.opacity = 0;
            this.iconNode.runAction(cc.sequence(cc.delayTime(0.1), cc.fadeTo(0.5, 255)));
        }
        if (this.logoNode) {
            this.logoNode.opacity = 0;
            this.logoNode.runAction(cc.fadeTo(0.3, 255));
        }
    };
    /**
     * 销毁前操作。这里会做一些动画
     */
    LoadingSceneMain.prototype.doPreDestory = function (duration) {
        if (duration === void 0) { duration = 0; }
        if (duration <= 0)
            return;
        if (this.titleNode) {
            this.titleNode.stopAllActions();
            this.titleNode.runAction(cc.fadeTo(duration, 0));
        }
        if (this.iconNode) {
            this.iconNode.stopAllActions();
            this.iconNode.runAction(cc.fadeTo(duration, 0));
        }
        if (this.logoNode) {
            this.logoNode.stopAllActions();
            var winSize = cc.director.getWinSize();
            this.logoNode.runAction(cc.moveTo(duration, this.logoNode.x, -winSize.height / 2 - this.logoNode.height));
        }
        // this.node.stopAllActions();
        // this.node.runAction(cc.fadeTo(0.3, 0));
    };
    // update (dt) {}
    LoadingSceneMain.prototype.onDestroy = function () {
        this.node.stopAllActions();
        if (this.titleNode) {
            this.titleNode.stopAllActions();
        }
        if (this.iconNode) {
            this.iconNode.stopAllActions();
        }
        if (this.logoNode) {
            this.logoNode.stopAllActions();
        }
    };
    __decorate([
        property({
            type: cc.Node,
            displayName: "title节点"
        })
    ], LoadingSceneMain.prototype, "titleNode", void 0);
    __decorate([
        property({
            type: cc.Node,
            displayName: "icon节点"
        })
    ], LoadingSceneMain.prototype, "iconNode", void 0);
    __decorate([
        property({
            type: cc.Node,
            displayName: "logo节点"
        })
    ], LoadingSceneMain.prototype, "logoNode", void 0);
    LoadingSceneMain = __decorate([
        ccclass
    ], LoadingSceneMain);
    return LoadingSceneMain;
}(cc.Component));
exports.default = LoadingSceneMain;

cc._RF.pop();