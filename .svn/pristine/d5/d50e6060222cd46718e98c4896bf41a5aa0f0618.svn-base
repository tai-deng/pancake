{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\TopNavigationBar/assets\\Script\\TopNavigationBar\\TopNavigationBar.ts"],"names":[],"mappings":";;;;;AAAA,0DAAqD;AACrD,gEAA2D;AAErD,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C;IAA8C,oCAAY;IAD1D;QAAA,qEA6CC;QA3CG;;WAEG;QAEH,UAAI,GAAY,IAAI,CAAC;QAErB,WAAK,GAAa,IAAI,CAAC;QAEvB,WAAK,GAAa,IAAI,CAAC;QAEvB,eAAS,GAAc,IAAI,CAAC;;IAiChC,CAAC;IA/BG,mCAAQ,GAAR;QACI,EAAE,CAAC,QAAQ,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACpC,qBAAW,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;IAC7C,CAAC;IAED,eAAe;IAEf,gCAAK,GAAL;QACI,IAAG,CAAC,IAAI,CAAC,eAAe;YAAE,OAAO;QACjC,qBAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,EAAC,IAAI,CAAC,kBAAkB,EAAC,IAAI,CAAC,CAAC;QAC/D,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,qBAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAW,CAAC,OAAO,CAAC,CAAC;QACtE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,qBAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,qBAAW,CAAC,SAAS,CAAC,CAAA;QACvE,IAAG,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,IAAI,IAAI,YAAY,EAAC;YAC3C,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;IACL,CAAC;IAED,iBAAiB;IACT,6CAAkB,GAA1B,UAA2B,CAAU;QACjC,IAAI,GAAG,GAAU,qBAAW,CAAC,QAAQ,CAAC,cAAc,CAAC;QACrD,OAAO;QACP,IAAI,GAAG,IAAI,qBAAW,CAAC,OAAO,EAAE;YAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,qBAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACtD,mDAAmD;YAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI;SACP;QACD,IAAI,GAAG,IAAI,qBAAW,CAAC,SAAS,EAAE;YAC9B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,qBAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SACzD;IACL,CAAC;IAtCD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;kDACG;IAErB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACI;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACI;IAEvB;QADC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC;uDACK;IAXX,gBAAgB;QADpC,OAAO;OACa,gBAAgB,CA4CpC;IAAD,uBAAC;CA5CD,AA4CC,CA5C6C,EAAE,CAAC,SAAS,GA4CzD;kBA5CoB,gBAAgB","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\TopNavigationBar","sourcesContent":["import StateManage from \"../StateManage/StateManage\";\r\nimport GameManager from \"../gamecore/managers/GameManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TopNavigationBar extends cc.Component {\r\n    /**\r\n     * 顶部导航三个元素\r\n     */\r\n    @property(cc.Node)\r\n    back: cc.Node = null;\r\n    @property(cc.Label)\r\n    grade: cc.Label = null;\r\n    @property(cc.Label)\r\n    score: cc.Label = null;\r\n    @property(cc.Animation)\r\n    animation:cc.Animation=null;\r\n\r\n    backHome(){\r\n        cc.director.loadScene(\"indexSence\");\r\n        GameManager.soundsManager.playTapSound();\r\n    }\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        if(!this._isOnLoadCalled) return;\r\n        StateManage.instance.on(\"change\",this.stateChangeHandler,this);\r\n        this.score.string = StateManage.instance.getData(StateManage.KEY_GEM);\r\n        this.grade.string = StateManage.instance.getData(StateManage.KEY_GRADE)\r\n        if(cc.director.getScene().name == \"indexSence\"){\r\n            this.back.active = false;\r\n        }\r\n    }\r\n\r\n    // update (dt) {}\r\n    private stateChangeHandler(e:cc.Event):void {\r\n        let key:string = StateManage.instance.lastChangedKey;\r\n        // 监控钻石\r\n        if (key == StateManage.KEY_GEM) {\r\n            this.score.string = StateManage.instance.getData(key);\r\n            // if(cc.director.getScene().name == \"indexSence\"){\r\n                this.animation.play();\r\n            // }\r\n        }\r\n        if (key == StateManage.KEY_GRADE) {\r\n            this.grade.string = StateManage.instance.getData(key);\r\n        }\r\n    }\r\n}\r\n"]}