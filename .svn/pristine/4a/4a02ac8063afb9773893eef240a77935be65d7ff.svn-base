{"version":3,"sources":["WXCore.ts"],"names":[],"mappings":";;;;AAAA,oBAAoB;AACpB,iFAAiF;AACjF,yFAAyF;AACzF,mBAAmB;AACnB,2FAA2F;AAC3F,mGAAmG;AACnG,8BAA8B;AAC9B,2FAA2F;AAC3F,mGAAmG;;AAE7F,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAG1C,IAAG,OAAO,EAAE,IAAI,WAAW,EAAC;IACxB,EAAE,CAAC,MAAM,CAAC,UAAS,GAAU;QACzB,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9B,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QACxB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAEb,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;CACN;AAED;;GAEG;AAEH;IAAA;IAsGA,CAAC;IAlGG;;;;;;;;OAQG;IACI,2BAAoB,GAA3B,UAA4B,KAAY,EAAE,QAAe,EAAE,UAAsB;QAAtB,2BAAA,EAAA,eAAsB;QAE7E,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9B,EAAE,CAAC,IAAI,CAAC,4BAA4B,CAAC,CAAC;QAEtC,IAAG,OAAO,EAAE,IAAI,WAAW;YAAE,OAAO;QAEpC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAA;QAEpC,EAAE,CAAC,iBAAiB,CAAC;YACjB,OAAO;gBACH,OAAO,EAAC,KAAK;gBACb,UAAU,EAAC,QAAQ;gBACnB,OAAO,EAAC,UAAU;aACrB,CAAC;QACN,CAAC,CAAC,CAAC;QAGH,EAAE,CAAC,aAAa,CACZ;YACI,iBAAiB,EAAC,IAAI;SACzB,CACJ,CAAC;IACN,CAAC;IAID;;;;;OAKG;IACI,gBAAS,GAAhB,UAAiB,IAAW,EAAE,QAAsB;QAAtB,yBAAA,EAAA,eAAsB;QAChD,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9B,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QAC3B,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAEb,IAAG,OAAO,EAAE,IAAI,WAAW;YAAE,OAAO;QAEpC,IAAI;YACA,EAAE,CAAC,SAAS,CAAC;gBACT,OAAO,EAAC,IAAI;gBACZ,MAAM,EAAC,MAAM;gBACb,UAAU,EAAC,QAAQ;gBACnB,MAAM,EAAC,KAAK;aACf,CAAC,CAAC;SACN;QAAC,OAAO,KAAK,EAAE;SAEf;IACL,CAAC;IAED,MAAM;IACC,mBAAY,GAAnB;QACI,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9B,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAE9B,IAAG,OAAO,EAAE,IAAI,WAAW;YAAE,OAAO;QAEpC,IAAI;YACA,EAAE,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;SACvB;QAAC,OAAO,KAAK,EAAE;YACZ,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAA;YACjC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAClB;IACL,CAAC;IAGD;;;;OAIG;IACI,mBAAY,GAAnB,UAAoB,MAAoB;QACpC,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC9B,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAE9B,IAAG,OAAO,EAAE,IAAI,WAAW;YAAE,OAAO;QAEpC,IAAI;YACA,EAAE,CAAC,YAAY,CACX;gBACI,MAAM,EAAC,MAAM;aAChB,CACJ,CAAC;SACL;QAAC,OAAO,KAAK,EAAE;SAEf;IACL,CAAC;IArGgB,MAAM;QAD1B,OAAO;OACa,MAAM,CAsG1B;IAAD,aAAC;CAtGD,AAsGC,IAAA;kBAtGoB,MAAM","file":"","sourceRoot":"../../../../../../assets/Script/gamecore/wechat","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n\nif(typeof wx != \"undefined\"){\n    wx.onShow(function(res:object):void {\n        cc.info(\"----  WX Core ----\");\n        cc.info(\"-  onShow  -\");\n        cc.info(res);\n\n        WXCore.query = res[\"query\"];\n    });\n}\n\n/**\n * 微信核心接口库\n */\n@ccclass\nexport default class WXCore {\n    //启动时携带的参数对象\n    static query:object;\n\n    /**\n     * 监听用户点击右上角菜单的“转发”按钮时触发的事件\n     * \n     * @param title             分享title\n     * @param imageURL          分享的图片加载地址\n     * @param queryValue        携带的参数，必须是 key1=val1&key2=val2 的格式\n     * \n     * @see https://developers.weixin.qq.com/minigame/dev/document/share/wx.onShareAppMessage.html\n     */\n    static setOnShareAppMessage(title:string, imageURL:string, queryValue:string = \"\"):void {\n        \n        cc.info(\"----  WX Core ----\");\n        cc.info(\"-  setOnShareAppMessage  -\");\n        \n        if(typeof wx == \"undefined\") return;\n\n        cc.info(title, imageURL, queryValue)\n\n        wx.onShareAppMessage(function():object {\n            return {\n                \"title\":title,\n                \"imageUrl\":imageURL,\n                \"query\":queryValue\n            };\n        });\n\n\n        wx.showShareMenu(\n            {\n                \"withShareTicket\":true\n            }\n        );\n    }\n\n\n\n    /**\n     * 显示信息提示\n     * \n     * @param info 信息内容\n     * @param duration 显示时间（毫秒）\n     */\n    static showToast(info:string, duration:number = 1500):void {\n        cc.info(\"----  WX Core ----\");\n        cc.info(\"-  showToast  -\");\n        cc.info(info)\n\n        if(typeof wx == \"undefined\") return;\n\n        try {\n            wx.showToast({\n                \"title\":info,\n                \"icon\":\"none\",  \t    //有效值 \"success\", \"loading\", \"none\"\t\n                \"duration\":duration,  \t//提示的延迟时间，单位毫秒，默认：1500\n                \"mask\":false,           //是否显示透明蒙层，防止触摸穿透，默认：false\t\n            });\n        } catch (error) {\n            \n        }\n    }\n\n    //震动反馈\n    static vibrateShort():void {\n        cc.info(\"----  WX Core ----\");\n        cc.info(\"-  vibrateShort  -\");\n\n        if(typeof wx == \"undefined\") return;\n\n        try {\n            wx.vibrateShort({});\n        } catch (error) {\n            cc.info(\"catch a error from wx:\")\n            cc.info(error);\n        }\n    }\n\n\n    /**\n     * 预览图片\n     * \n     * @param images 图片的url列表\n     */\n    static previewImage(images:Array<string>):void {\n        cc.info(\"----  WX Core ----\");\n        cc.info(\"-  vibrateShort  -\");\n\n        if(typeof wx == \"undefined\") return;\n\n        try {\n            wx.previewImage(\n                {\n                    \"urls\":images\n                }\n            );\n        } catch (error) {\n            \n        }\n    }\n}\n"]}