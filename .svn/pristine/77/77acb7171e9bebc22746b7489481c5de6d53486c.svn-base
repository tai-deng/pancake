{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\gameScene/assets\\Script\\gameScene\\DiamondMain.ts"],"names":[],"mappings":";;;;;AAEM,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAQ,CAAkB;AAE1C;;GAEG;AAEH;IAAyC,+BAAY;IADrD;QAAA,qEA6DC;QAzDG,IAAI;QAEJ,gBAAU,GAAY,IAAI,CAAC;QAG3B,cAAQ,GAAW,IAAI,CAAC;QAExB,IAAI;QACG,WAAK,GAAU,CAAC,CAAC;;QA8CxB,gBAAgB;QAEhB,IAAI;IACR,CAAC;IA/CG,4BAAM,GAAN;IACA,CAAC;IAGD,2BAAK,GAAL;QACI,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;YAChB,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;SAC7C;QAGD,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;QAEzC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,GAAG,CAAC;QAC1B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;IAC7E,CAAC;IAID;;OAEG;IACI,iCAAW,GAAlB;QACI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,OAAO,GAAG,KAAK,CAAC;QAErD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QAEpC,IAAI,GAAG,GAAgB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;QAChE,IAAI,QAAQ,GAAqB,GAAG,CAAC,IAAI,EAAE,CAAC;QAE5C,KAAK;QACL,iDAAiD;QACjD,iDAAiD;QACjD,iDAAiD;QACjD,GAAG,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QACpD,iDAAiD;QACjD,iDAAiD;IACrD,CAAC;IAGO,0CAAoB,GAA5B,UAA6B,CAAU;QACnC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAlDD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACQ;IAG3B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;iDACM;IARP,WAAW;QAD/B,OAAO;OACa,WAAW,CA4D/B;IAAD,kBAAC;CA5DD,AA4DC,CA5DwC,EAAE,CAAC,SAAS,GA4DpD;kBA5DoB,WAAW","file":"","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\gameScene","sourcesContent":["import StateManage from \"../StateManage/StateManage\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n/**\r\n * 宝石类\r\n */\r\n@ccclass\r\nexport default class DiamondMain extends cc.Component {\r\n\r\n\r\n    //数量\r\n    @property(cc.Label)\r\n    countLabel:cc.Label = null;\r\n\r\n    @property(cc.Node)\r\n    iconNode:cc.Node = null;\r\n\r\n    //数量\r\n    public count:number = 1;\r\n\r\n    onLoad() {\r\n    }\r\n\r\n\r\n    start() {\r\n        if (this.count > 1) {\r\n            this.countLabel.string = \"×\" + this.count;\r\n        }\r\n\r\n        \r\n        this.node.opacity = 0;\r\n        this.node.runAction(cc.fadeTo(0.3, 255));\r\n\r\n        this.iconNode.scale = 0.5;\r\n        this.iconNode.runAction(cc.scaleTo(0.3, 1, 1).easing(cc.easeBounceIn()));\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * 消失\r\n     */\r\n    public doDisappear():void {\r\n        this.node.getComponent(cc.RigidBody).enabled = false;\r\n\r\n        this.countLabel.node.active = false;\r\n        \r\n        let ani:cc.Animation = this.iconNode.getComponent(cc.Animation);\r\n        let aniState:cc.AnimationState = ani.play();\r\n\r\n        // 注册\r\n        // ani.on('play',      this.onPlay,        this);\r\n        // ani.on('stop',      this.onStop,        this);\r\n        // ani.on('lastframe', this.onLastFrame,   this);\r\n        ani.on('finished', this.onDiamondAniFinished, this);\r\n        // ani.on('pause',     this.onPause,       this);\r\n        // ani.on('resume',    this.onResume,      this);\r\n    }\r\n\r\n\r\n    private onDiamondAniFinished(e:cc.Event):void {\r\n        this.node.removeFromParent(true);\r\n    }\r\n\r\n    // update (dt) {\r\n\r\n    // }\r\n}\r\n"]}